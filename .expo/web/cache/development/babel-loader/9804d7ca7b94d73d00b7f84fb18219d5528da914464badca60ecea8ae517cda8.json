{"ast":null,"code":"import _asyncToGenerator from \"@babel/runtime/helpers/asyncToGenerator\";\nimport _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport React, { useState, useEffect } from 'react';\nimport View from \"react-native-web/dist/exports/View\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport FlatList from \"react-native-web/dist/exports/FlatList\";\nimport TouchableOpacity from \"react-native-web/dist/exports/TouchableOpacity\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport Alert from \"react-native-web/dist/exports/Alert\";\nimport AsyncStorage from '@react-native-async-storage/async-storage';\nimport { jsx as _jsx, jsxs as _jsxs } from \"react/jsx-runtime\";\nexport default function TodoList(_ref) {\n  var navigation = _ref.navigation;\n  var _useState = useState([]),\n    _useState2 = _slicedToArray(_useState, 2),\n    todos = _useState2[0],\n    setTodos = _useState2[1];\n  useEffect(function () {\n    var unsubscribe = navigation.addListener('focus', function () {\n      loadTodos();\n    });\n    loadTodos();\n    return unsubscribe;\n  }, [navigation]);\n  function loadTodos() {\n    return _loadTodos.apply(this, arguments);\n  }\n  function _loadTodos() {\n    _loadTodos = _asyncToGenerator(function* () {\n      try {\n        var raw = yield AsyncStorage.getItem('@todos');\n        if (raw) setTodos(JSON.parse(raw));else setTodos([]);\n      } catch (e) {}\n    });\n    return _loadTodos.apply(this, arguments);\n  }\n  function removeTodo(_x) {\n    return _removeTodo.apply(this, arguments);\n  }\n  function _removeTodo() {\n    _removeTodo = _asyncToGenerator(function* (id) {\n      try {\n        var filtered = todos.filter(function (t) {\n          return t.id !== id;\n        });\n        yield AsyncStorage.setItem('@todos', JSON.stringify(filtered));\n        setTodos(filtered);\n      } catch (e) {}\n    });\n    return _removeTodo.apply(this, arguments);\n  }\n  function confirmRemove(id) {\n    Alert.alert('Remover', 'Deseja remover esta tarefa?', [{\n      text: 'Cancelar',\n      style: 'cancel'\n    }, {\n      text: 'OK',\n      onPress: function onPress() {\n        return removeTodo(id);\n      }\n    }]);\n  }\n  function renderItem(_ref2) {\n    var item = _ref2.item;\n    return _jsxs(View, {\n      style: styles.item,\n      children: [_jsx(Text, {\n        style: styles.text,\n        children: item.text\n      }), _jsxs(View, {\n        style: styles.actions,\n        children: [_jsx(TouchableOpacity, {\n          onPress: function onPress() {\n            return navigation.navigate('AddTodo', {\n              todo: item\n            });\n          },\n          style: styles.button,\n          children: _jsx(Text, {\n            style: styles.btnText,\n            children: \"Editar\"\n          })\n        }), _jsx(TouchableOpacity, {\n          onPress: function onPress() {\n            return confirmRemove(item.id);\n          },\n          style: [styles.button, styles.delete],\n          children: _jsx(Text, {\n            style: styles.btnText,\n            children: \"Remover\"\n          })\n        })]\n      })]\n    });\n  }\n  return _jsxs(View, {\n    style: styles.container,\n    children: [_jsx(FlatList, {\n      data: todos,\n      keyExtractor: function keyExtractor(i) {\n        return i.id.toString();\n      },\n      renderItem: renderItem,\n      ListEmptyComponent: _jsx(Text, {\n        style: styles.empty,\n        children: \"Nenhuma tarefa\"\n      })\n    }), _jsx(TouchableOpacity, {\n      style: styles.fab,\n      onPress: function onPress() {\n        return navigation.navigate('AddTodo');\n      },\n      children: _jsx(Text, {\n        style: styles.fabText,\n        children: \"+\"\n      })\n    })]\n  });\n}\nvar styles = StyleSheet.create({\n  container: {\n    flex: 1,\n    padding: 16\n  },\n  item: {\n    padding: 12,\n    borderRadius: 6,\n    backgroundColor: '#f2f2f2',\n    marginBottom: 10,\n    flexDirection: 'row',\n    justifyContent: 'space-between',\n    alignItems: 'center'\n  },\n  text: {\n    fontSize: 16\n  },\n  actions: {\n    flexDirection: 'row'\n  },\n  button: {\n    padding: 8,\n    marginLeft: 8,\n    backgroundColor: '#4a90e2',\n    borderRadius: 4\n  },\n  delete: {\n    backgroundColor: '#e14a4a'\n  },\n  btnText: {\n    color: '#fff'\n  },\n  fab: {\n    position: 'absolute',\n    right: 20,\n    bottom: 30,\n    backgroundColor: '#4a90e2',\n    width: 56,\n    height: 56,\n    borderRadius: 28,\n    alignItems: 'center',\n    justifyContent: 'center'\n  },\n  fabText: {\n    color: '#fff',\n    fontSize: 28\n  },\n  empty: {\n    textAlign: 'center',\n    marginTop: 20,\n    color: '#666'\n  }\n});","map":{"version":3,"names":["React","useState","useEffect","View","Text","FlatList","TouchableOpacity","StyleSheet","Alert","AsyncStorage","jsx","_jsx","jsxs","_jsxs","TodoList","_ref","navigation","_useState","_useState2","_slicedToArray","todos","setTodos","unsubscribe","addListener","loadTodos","_loadTodos","apply","arguments","_asyncToGenerator","raw","getItem","JSON","parse","e","removeTodo","_x","_removeTodo","id","filtered","filter","t","setItem","stringify","confirmRemove","alert","text","style","onPress","renderItem","_ref2","item","styles","children","actions","navigate","todo","button","btnText","delete","container","data","keyExtractor","i","toString","ListEmptyComponent","empty","fab","fabText","create","flex","padding","borderRadius","backgroundColor","marginBottom","flexDirection","justifyContent","alignItems","fontSize","marginLeft","color","position","right","bottom","width","height","textAlign","marginTop"],"sources":["/home/doug/faculdade/atividade-vue-front/abc da amazonia/todo-expo/screens/TodoList.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { View, Text, FlatList, TouchableOpacity, StyleSheet, Alert } from 'react-native';\nimport AsyncStorage from '@react-native-async-storage/async-storage';\nexport default function TodoList({ navigation }) {\n  const [todos, setTodos] = useState([]);\n  useEffect(() => {\n    const unsubscribe = navigation.addListener('focus', () => {\n      loadTodos();\n    });\n    loadTodos();\n    return unsubscribe;\n  }, [navigation]);\n  async function loadTodos() {\n    try {\n      const raw = await AsyncStorage.getItem('@todos');\n      if (raw) setTodos(JSON.parse(raw));\n      else setTodos([]);\n    } catch (e) {}\n  }\n  async function removeTodo(id) {\n    try {\n      const filtered = todos.filter(t => t.id !== id);\n      await AsyncStorage.setItem('@todos', JSON.stringify(filtered));\n      setTodos(filtered);\n    } catch (e) {}\n  }\n  function confirmRemove(id) {\n    Alert.alert('Remover', 'Deseja remover esta tarefa?', [\n      { text: 'Cancelar', style: 'cancel' },\n      { text: 'OK', onPress: () => removeTodo(id) }\n    ]);\n  }\n  function renderItem({ item }) {\n    return (\n      <View style={styles.item}>\n        <Text style={styles.text}>{item.text}</Text>\n        <View style={styles.actions}>\n          <TouchableOpacity onPress={() => navigation.navigate('AddTodo', { todo: item })} style={styles.button}>\n            <Text style={styles.btnText}>Editar</Text>\n          </TouchableOpacity>\n          <TouchableOpacity onPress={() => confirmRemove(item.id)} style={[styles.button, styles.delete]}>\n            <Text style={styles.btnText}>Remover</Text>\n          </TouchableOpacity>\n        </View>\n      </View>\n    );\n  }\n  return (\n    <View style={styles.container}>\n      <FlatList data={todos} keyExtractor={i => i.id.toString()} renderItem={renderItem} ListEmptyComponent={<Text style={styles.empty}>Nenhuma tarefa</Text>} />\n      <TouchableOpacity style={styles.fab} onPress={() => navigation.navigate('AddTodo')}>\n        <Text style={styles.fabText}>+</Text>\n      </TouchableOpacity>\n    </View>\n  );\n}\nconst styles = StyleSheet.create({\n  container: { flex: 1, padding: 16 },\n  item: { padding: 12, borderRadius: 6, backgroundColor: '#f2f2f2', marginBottom: 10, flexDirection: 'row', justifyContent: 'space-between', alignItems: 'center' },\n  text: { fontSize: 16 },\n  actions: { flexDirection: 'row' },\n  button: { padding: 8, marginLeft: 8, backgroundColor: '#4a90e2', borderRadius: 4 },\n  delete: { backgroundColor: '#e14a4a' },\n  btnText: { color: '#fff' },\n  fab: { position: 'absolute', right: 20, bottom: 30, backgroundColor: '#4a90e2', width: 56, height: 56, borderRadius: 28, alignItems: 'center', justifyContent: 'center' },\n  fabText: { color: '#fff', fontSize: 28 },\n  empty: { textAlign: 'center', marginTop: 20, color: '#666' }\n});\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}